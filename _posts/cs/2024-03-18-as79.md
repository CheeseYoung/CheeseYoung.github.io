---
layout: post
title: <데이터베이스> 7. 키(Key)
subtitle: Engineer Information Processing
author: Jo
categories: CS
banner:
  image: https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/31a6f9c2-c7d4-4086-8d26-7e42a7db8434
  opacity: 0.618
  background: "#000"
  height: "100vh"
  min_height: "38vh"
  heading_style: "font-size: 4.25em; font-weight: bold; text-decoration: underline"
  subheading_style: "color: gold"
tags: Study

---


# 목차
📌 키(Key) <br>
🕳 인덱스(Index) <br>
🕳 정규화(normalization) <br>
🕳 트랜잭션(Transaction) <br>
🕳 이상현상(Anomaly) <br>
🕳 병행제어(Concurrency Control) <br>
<br>
<hr>



## 키(Key)
조건에 만족하는 튜플을 찾거나, 순서대로 정렬할 때 **다른 튜플들과 구별할 수 있는 기준이 되는 속성**
- 하나의 릴레이션에는 수많은 튜플들이 존재하며, 각 튜플들 간에는 중복되는 속성값이 발생할 수 있다.
- 각각의 튜플을 구분하기 위한 기준이 되는 속성이 필요하다.
- 이것을 "키" 라고 부르며, 하나의 속성 또는 여러 속성들의 집합으로 표현할 수 있다.
- 키의 종류로는 슈퍼키, 후보키, 기본키, 대체키, 외래키 가 있다.
![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/31a6f9c2-c7d4-4086-8d26-7e42a7db8434)


## 유일성과 최소성
# 유일성
**하나의 키값으로 튜플을 유일하게 식별할 수 있는 성질**
- 위에서 언급했듯 여러 개의 튜플이 존재할 때 각각의 튜플을 서로 구분할 수 있는 속성이 존재해야 한다.
- 한 마디로 말하자면, 각각의 튜플은 유일해야 한다는 뜻이다.

<br><br>
# 최소성
**키를 구성하는 속성들 중 가장 최소로 필요한 속성들로만 키를 구성하는 성질**
- 쉽게 말해, 키를 구성하고 있는 속성들이 진짜 각 튜플을 구분하는 데 꼭 필요한 속성들로만 구성되어 있는지를 의미한다.
- 예를 들면
  - (주민번호, 나이, 사는 곳, 혈액형) 릴레이션에서 (주민번호, 나이)가 키로 지정이 되어 있다면, 당연히 이 키는 각 튜플을 구분할 수 있다.
  - 하지만, 나이를 제외하더라도, 주민번호가 중복되는 사람은 세상에 존재하지 않는다.
  - 그렇기 때문에 (주민번호, 나이) 로 지정된 키는 *최소성을 만족하지 않는다.* 

## 키의 종류
# 1. 슈퍼키(Super Key)
- 유일성 O, 최소성 X
- **유일성의 특성을 만족하는 속성 또는 속성들의 집합을 의미**
- 모든 키 값이 같은 튜플을 존재할 수가 없다.
- 예를들면
  - (고객 아이디) 의 경우 아이디가 같은 고객은 없기 때문에 슈퍼키 O
  - (직업, 나이, 등급) 의 경우 나이, 직업, 등급이 같은 고객은 충분히 있을 수 있기 때문에 슈퍼키 X
  - (고객 아이디, 직업, 나이, 등급) 의 경우는 고객 아이디가 각 튜플을 구분할 수 있는 속성이기 때문에 슈퍼키 O
<br><br>

# 2. 후보키 (Candidate Key)
- 유일성 O, 최소성 O
- 후보키는 슈퍼키 중 최소성을 만족하는, 즉 **유일성과 최소성을 모두 만족하는 속성 또는 속성들의 집합**이다.
- 예를들면
  - (고객 아이디, 직업, 나이, 등급)은 각 튜플을 유일하게 식별할 수 있으므로 유일성은 만족하며, 슈퍼키가 될 수 있다.
  - 하지만 이 속성들은 튜플 간에 중복되는 속성값을 가지고 있고, 이 속성들이 포함되어 있지 않은 (고객 아이디) 만으로도 튜플의 식별이 가능하다.
  - 그러므로 위의 키에서 직업, 나이, 등급을 제외한 (고객 아이디) 는 최소성을 만족하며 후보키가 될 수 있다.
<br><br>

# 3. 기본키 (Primary Key)
- 유일성 O, 최소성 O
- **후보키 중 선택받은 키**
- 후보키는 한 테이블 내에서 여러 개 존재할 수 있는데, 여기서 우리는 여러 후보키 중 하나를 택해 사용해야 하며 여기서 선택된 키가 기본키가 된다.
- 하지만 모든 후보키가 기본키가 되는 것은 아니고 기본키를 선택함에 있어서 다음의 기준을 통과해야 한다.
  1. NULL 값을 가질 수 있는 속성이 포함된 후보키는 기본키로 부적절하다.
  2. 값이 자주 변경될 수 있는 속성이 포함된 후보키는 기본키로 부적절하다.
  3. 단순한 후보키를 기본키로 선택한다.
- 속성
  - NULL 값을 가질 수 없다. (개체 무결성의 첫번째 조건)
  - 기본키로 정의된 속성에는 동일한 값이 중복되어 저장될 수 없다. (개체 무결성의 두번째 조건)
<br><br>

# 4. 대체키 (Alternate Key)
- 유일성 O, 최소성 O
- **후보키 중 선택받지 못한 키**
- 기본키를 대신할 수 있는 자격은 있지만, 조건에 부합하지 않아 기본키로 선택받지 못한 키들을 의미한다.
- 대체키는 **'보조키'** 라는 이름으로도 불린다.
<br><br>

# 5. 외래키 (Foreign Key)
- **다른 릴레이션의 기본키를 그대로 참조하는 속성 또는 속성들의 집합**
- 외래키는 릴레이션 간의 관계를 올바르게 표현하기 위해 필요하다.
- 속성
  - 외래키로 지정되면 참조 테이블의 기본키에 없는 값은 입력이 불가하다.(참조 무결성 조건)
 














