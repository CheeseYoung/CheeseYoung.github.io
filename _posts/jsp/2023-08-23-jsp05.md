---
layout: post
title: JSP_도서 관리 시스템 만들기_04
subtitle: 책 상세 화면 만들기
author: Jo 
categories: JSP
banner:
  video: "./assets/images/banners/typing.gif"
  loop: true
  volume: 0.8
  start_at: 8.5
  image: "assets/images/banners/typing.gif"
  opacity: 0.618
  background: "#000"
  height: "100vh"
  min_height: "38vh"
  heading_style: "font-size: 4.25em; font-weight: bold; text-decoration: underline"
  subheading_style: "color: gold"
tags: jsp
---

<목표> : 전체 책 리스트 출력화면에서, 책 제목을 클릭하면 해당 책의 상세 내용으로 넘어가게 해보자.

## 책 정보를 가져오는 메소드 만들기
1. BookDAO에 책 하나의 정보를 가져올 수 있는 sql문을 추가해준다.
```BookDAO.java
static String GET_BOOK = "select * from booktbl where bno=?";
```
2. bno를 통해 bookVO 하나를 반환하는 getBook 메소드를 만든다.
```BookDAO.java
	// 책 상세 정보 조회
	public BookVO getBook(int bno) {
		BookVO vo = null;
		Connection conn = JDBCUtil.getConnection();
		PreparedStatement pstmt = null;
		ResultSet rs = null;
		try {
			pstmt = conn.prepareStatement(GET_BOOK);
			pstmt.setInt(1, bno);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				vo = new BookVO(rs.getInt("bno"), rs.getInt("price"), rs.getString("title"), rs.getString("writer"),
						rs.getString("publisher"), rs.getString("srcFilename"), rs.getString("saveFilename"),
						rs.getString("savePath"), rs.getString("content"), rs.getDate("regdate"));
			}
		} catch (SQLException e) {
			e.printStackTrace();
		} finally {
			JDBCUtil.close(conn, pstmt, rs);
		}
		return vo;
	}
```

## 서블릿 생성
1. src/main/java의 controller 패키지에 BookViewServlet을 생성한다.
![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/4f7c608a-d196-4df8-b364-555bb61305bd)
2. 서블릿 호출 명령어를 bView로 변경해준다. 여기서 ``@WebServlet("/bView")``이걸로 변경!
![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/7624bc46-a629-404d-85a6-203b10d2fdd8)
3. 이 서블릿이 호출되었을 때 실행될 내용을 작성한다.


## booklist.jsp 수정
1. 북리스트가 출력될 때, 책 제목 마다 해당 책의 상세정보로 넘어가는 링크를 달아줘야한다.


