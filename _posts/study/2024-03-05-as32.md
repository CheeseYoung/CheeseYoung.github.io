---
layout: post
title: 개발 상식 공부하기 32. OSI 7 계층
subtitle: Engineer Information Processing
author: Jo
categories: STUDY
banner:
  video: 
  loop: true
  volume: 0.8
  start_at: 8.5
  image:
  opacity: 0.618
  background: "#000"
  height: "100vh"
  min_height: "38vh"
  heading_style: "font-size: 4.25em; font-weight: bold; text-decoration: underline"
  subheading_style: "color: gold"
tags: Study

---

# 목차
🕳 네트워크란? <br>
📌 OSI 7 계층 (Open System Interconnection 7 Layer) <br>
🕳 TCP vs UDP(Transmission Control Protocol vs User Datagram Protocol) <br>
🕳 TCP 3-way-handshake & 4-way-handshake <br>
🕳 TCP/IP 흐름제어 & 혼잡제어(Flow control & Congestion control) <br>
<br>
<hr>


## OSI 7계층
![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/f747b0de-d339-4040-a0dd-fa30d8f1b53b)
OSI 7계층은 국제표준화기구(IOS)에서 1984년에 개발한 모델이다. 데이터를 주고받을 때 데이터의 흐름을 크게 7단계로 구분한 것으로, 각 단계가 어떤 역할을 하고 있는지 알 수 있는 일종의 메뉴얼이다.<br>
<br>
<OSI 7계층의 단계>
- 7계층 : 응용 계층 (Application Layer) (HTTP, SMTP, POP, FTP, SSH 등) 
- 6계층 : 표현 계층 (Presentation Layer)
- 5계층 : 세션 계층 (Session Layer)
- 4계층 : 전송 계층 (Transport Layer) (TCP/UDP)
- 3계층 : 네트워크 계층 (Network Layer) (IP, ICMP, ARP)
- 2계층 : 데이터 링크 계층 (Data Link Layer) (Ethernet) 
- 1계층 : 물리 계층 (전선, 전파, 광섬유) (Physical Layer)
<br>
- 컴퓨터 네트워크가 처음 나왔을 때, 통신에 필요한 장치나 시스템은 특정 회사에서만 만들기 때문에 서로 호환이 되지 않는 경우가 많았다. 
- 점점 개인용 컴퓨터가 보급되기 시작하면서 다른 기종의 컴퓨터끼리도 네트워크를 형성하기를 원했고, 그 결과 OSI 7계층이 만들어졌다.
- OSI 7계층이 생기면서 계층 내 장치나 통신 규약인 <b>프로토콜이 달라져도 통신할 수 있게 되었고</b>, 새로 개발된 장치나 프로토콜을 빠르게 이해하는데에도 많은 도움이 되었다.
- 이상이 생긴 특정 계층을 파악할 수 있게 되어 다른 계층은 건드리지 않고 고칠 수 있게 되는 등 유지, 관리도 수월해졌다.

## OSI 7계층을 나눈 이유
- 통신이 일어나는 과정을 단계별로 파악하기 위해서
- 흐름을 한눈에 알아보기 쉽고, 사람들이 이해하기 쉽고, 7단계 중 특정한 곳에 이상이 생기면 그 단계만 고치면 되니까
- 예시
```
pc방에서 게임을 하는데 연결이 끊길 때
- 모든 pc가 문제라면 라우터의 문제(3계층 네트워크)이거나 광랜을 제공하는 회사의 회선문제(1계층 물리)
- 한 pc만 문제고
  - 게임 소프트웨어에 문제가 있다면 7계층 어플리케이션 계층
  - 게임 소프트웨어에 문제가 없고, 스위치에 문제가 있으면 2계층 데이터링크 계층에
문제가 있다고 판단해 다른 계층을 건드리지 않아도 된다.
```

## 계층별 알아보기
- 1계층 : 물리계층 (Physical Layer)
  - 주로 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송하게 된다.
  - 이 계층에서 사용되는 통신 단위는 비트이며 이것은 1과 0으로 나타내어지는, on off 상태라고 생각하면 된다.
  - 단지 데이터를 전달만 할 뿐 전송하려는(+받으려는) 데이터가 무엇인지, 어떤 에러가 있는지 등에는 전혀 신경쓰지 않는다.
  - 데이터가 전기적인 신호로 변환해서 주고받는 기능만 할 뿐이다.
  - 대표적인 장비로는 통신 케이블, 리피터, 허브 등이 있다.
 
- 2계층 : 데이터 링크 계층 (Data Link Layer)
  - 물리계층을 통해 송수신되는 정보의 오류와 흐름을 관리하여 안전한 정보의 전달을 수행할 수 있도록 도와주는 역할
  - 이 계층에서는 맥 주소를 가지고 통신하게 된다.
  - 이 계층에서 전송되는 단위를 프레임이라고 하고, 대표적인 장비로는 브리지, 스위치 등이 있다.
  - 데이터링크계층은 포인트 투 포인트간 신뢰성있는 전송을 보장하기 위한 계층
  - CRC 기반의 오류제어와 흐름제어가 필요하다.
  - 네트워크 위의 개체들 간 데이터를 전달하고, 물리 계층에서 발생할 수 있는 오류를 찾아내고, 수정하는데 필요한 기능적, 절차적 수단을 제공한다.
  - 주소값은 물리적으로 할당받는데, 이는 네트워크 카드가 만들어질 때부터 맥 주소(MAC address)가 정해져있다는 뜻이다.
  - 데이터 링크 계층의 가장 잘 알려진 예는 이더넷이다.
  - 이 외에도 HDLC나 ADCCP 같은 포인트 투 포인트(point-to-point) 프로토콜이나 패킷 스위칭 네트워크나 LLC, ALOHA 같은 근거리 네트워크용 프로토콜이 있다. 

- 3계층 : 네트워크 계층 (Network Layer)
  - 이 계층에서 가장 중요한 기능은 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(라우팅)이다.
  - 대표적인 장비는 라우터이며, 요즘은 2계층의 장비 중 스위치라는 장비에 라우팅 기능을 장착한 Layer3 스위치도 있다.
  - 네트워크 계층(Network layer)은 여러개의 노드를 거칠때마다 경로를 찾아주는 역할을 하는 계층
  - 다양한 길이의 데이터를 네트워크들을 통해 전달하고, 그 과정에서 기능적, 절차적 수단을 제공한다.
  - 네트워크 계층은 라우팅, 흐름 제어, 세그멘테이션, 오류 제어, 인터네트워킹 등을 수행한다.
  - 논리적인 주소 구조(IP), 곧 네트워크 관리자가 직접 주소를 할당하는 구조를 가지며, 계층적이다.

- 4계층 : 전송 계층 (Transport Layer)
  - 통신을 활성화하기 위한 계층이다. 보통 TCP프로토콜을 이용하며, 포트를 열어서 응용프로그램들이 전송을 할 수 있게 한다.
  - 만약 데이터가 왔다면 4계층에서 해당 데이터를 하나로 합쳐서 5계층에 던져준다.
  - 이 계층까지는 물리적인 계층에 속한다.
  - 전송계층은 양끝단 사용자들이 신뢰성있는 데이터를 주고받을 수 있도록 해주어, 상위계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않도록 해준다.
  - 시퀀스 넘버 기반의 오류 제어 방식을 사용한다.
  - 전송 계층은 특정 연결의 유효성을 제어하고, 일부 프로토콜은 상태 개념이 있고(stateful), 연결기반(connection oriented)이다.
  - 전송 계층이 패킷들의 전송이 유효한지 확인하고 전송 실패한 패킷들을 다시 전송한다는 것을 뜻한다.
  - 가장 잘 알려진 전송 계층의 예는 TCP이다.
  - 종단간(end-to-end) 통신을 다루는 최하위 계층으로 종단간 신뢰성있고 효율적인 데이터를 전송하며,
  - 기능은 오류검출 및 복구와 흐름제어, 중복검사 등을 수행한다.

- 5계층 : 세션 계층 (Session Layer)
  - 데이터가 통신하기 위한 논리적인 연결을 말한다.
  - 통신을 하기위한 대문이라고 보면 된다. / 세션 계층은 응용 프로그램의 관점에서 봐야한다.
  - 세션 설정, 유지, 종료, 전송 중단시 복구 등의 기능이 있다.
  - 세션 계층(Session layer)은 양끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공한다.
  - 동시 송수신 방식(duplex), 반이중 방식(half-duplex), 전이중 방식(Full-duplex)의 통신과 함께, 체크 포인팅과 유휴, 종료, 다시 시작 과정등을 수행한다.
  - 이 계층은 TCP/IP 세션을 만들고 없애는 책임을 진다.
  - 통신하는 사용자들을 동기화하고 오류복구 명령들을 일괄적으로 다룬다.
  - 통신을 하기위한 세션을 확립/유지/중단
    
- 6계층 : 표현 계층 (Presentation Layer)
  - 데이터 표현이 상이한 응용 프로세스의 독립성을 제공하고, 암호화 한다.
  - 표현계층은 코드간의 번역을 담당하여 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용계층으로부터 덜어준다.
  - MIME 인코딩이나 암호화 등의 동작이 이 계층에서 이루어진다.
  - 예를 들면 EDCDIC로 인코딩된 문서 파일을 ASCII로 인코딩된 파일로 바꿔주는 것,
  - 해당 데이터가 TEXT인지 그림인지 GIF인지 JPG인지의 구분 등이 표현 계층의 몫이다.

- 7계층 : 응용 계층 (Application Layer)
  - 최종 목적지로서 HTTP, FTP, SMTP, POP3, IMAP, Telnet 등과 같은 프로토콜이 있다.
  - 해당 통신 패킷들은 방금 나열한 프로토콜에 의해 모두 처리되며, 우리가 사용하는 브라우저나 메일 프로그램은 프로토콜을 보다 쉽게 사용하게 해주는 응용프로그램이다.
  - 한마디로 모든 통신의 양 끝단은 HTTP와 같은 프로토콜이지 응용프로그램이 아니다.
  - 응용계층은 응용프로세스와 직접 관계하여 일반적인 응용 서비스를 수행한다.
  - 일반적인 응용서비스는 관련된 응용 프로세스들 사이의 전환을 제공한다.
  - 응용 서비스의 예로, 가상터미널, JTM(표준 ISO/IEC 8832) 등이 있다.




## TCP/IP 4계층
: 현재는 OSI 7계층보다 TCP/IP 4계층을 더 많이 사용한다.

- 4계층 : 응용(HTTP)
- 3계층 : 전송(TCP)
- 2계층 : 네트워크(IP)
- 1계층 : 네트워크 인터페이스(MAC, ARP)
<br>
- TCP는 데이터를 송신할 때마다 확인 응답을 주고 받는 절차가 있어서 통신의 신뢰성이 높다.
- 웹이나 메일, 파일 공유 등과 같이 데이터를 누락시키고 싶지 않은 서비스에 주로 사용이 된다.
- IP는 전송 계층으로부터 받은 데이터에 IP 헤더를 붙여 패킷으로 만드는 역할을 한다.
- IP 헤더에는 여러 필드 값 (버전, 헤더길이, 프로토콜 등), 출발지 IP 주소, 도착지 IP주소가 들어간다.

## 둘의 차이
- OSI 모델의 세션, 표현, 응용 계층은 TCP/IP 모델의 응용 계층으로,
- OSI 모델의 물리, 데이터 링크 계층은 TCP/IP 모델의 네트워크 엑세스 계층으로 합쳐진 것을 확인할 수 있다.
- OSI 7계층의 경우 호환성과 표준화를 목적으로, TCP/IP 4계층은 실무 적용을 목적으로 만들어졌다.
- TCP/IP 4계층은 OSI 7계층보다 더 실용성을 강조한 프로토콜으로, 현대 네트워크는 대부분 TCP/IP 4계층 모델을 사용하고 있다.
















