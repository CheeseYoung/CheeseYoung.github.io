---
layout: post
title: 개발 상식 공부하기 26. 이진 탐색 트리(Binary Search Tree)
subtitle: Engineer Information Processing
author: Jo
categories: STUDY
banner:
  video: 
  loop: true
  volume: 0.8
  start_at: 8.5
  image: 
  opacity: 0.618
  background: "#000"
  height: "100vh"
  min_height: "38vh"
  heading_style: "font-size: 4.25em; font-weight: bold; text-decoration: underline"
  subheading_style: "color: gold"
tags: Study

---

# 목차
📌 이진 탐색 트리(Binary Search Tree) <br>
🕳 AVL 트리(AVL Tree) <br>
🕳 레드블랙트리(Red-black Tree) <br>
🕳 트라이(Trie) <br>
🕳 트리 맵(Tree Map) <br>


<br>
<hr>


## 이진탐색트리란?
- 이진 탐색트리는 이진 탐색(Binary Search)의 아이디어를 채용한 자료구조
- 이진 탐색은 원소가 정렬되어있다는 조건아래, 정렬된 특징을 이용해 반씩 쪼개가며 검색을 한다.
  - 검색 회수가 획기적으로 낮아지는 특징이 있다.
  - 이진 탐색트리도 원소가 정렬되어있고, 반씩 쪼개가며 검색을 할 수 있는 구조를 갖추고 있다는 의미
- 이진 탐색을 사용하는 배열 자료구조보다 나은 점은?
  - 배열은 조회에 강점이 있는 자료구조다. 검색만 한다고 가정할 때는 트리 구조가 굳이 필요하지 않다.
  - 하지만 원소가 삽입/삭제 될 수 있다고 가정하면 달라진다.
  - 배열은 삽입/삭제될 index를 찾은 후, 그 index 뒤에 위치한 원소들은 전부 뒤로 이동해야하는 수고가 존재
  - 또한 공간이 모자라면 배열 크기를 증가시켜야하고, 반대로 공간이 너무 많이 남으면 배열을 축소 시키는 작업을 해야함
  - 반면 트리구조는 참조(포인터)만 변경해주면 되므로, 원소의 대량 이동이 필요 없고, 공간 복잡도를 신경안써도 된다.
  - 또한 조회 자체도 이진탐색 구조상 트리도 특정 노드의 Index 검색이 아닌, 특정 노드로부터 순차대로 검색하는 구조라 배열과 크게 차이가 없다.
  - 위와 같은 이유들로, <b>이진 탐색트리가 더 보편적</b>으로 사용될 수 있다.

## 이진탐색트리 순회
- 대표적인 DFS 순회 방법 3가지가 있다.
  - 전위 순회(pre-order traversal)
  - 중위 순회(in-order traversal)
  - 후위 순회(post-order traversal)
- 여기서 중위 순회를 이용하면 정렬된 원소의 목록을 획득할 수 있다.
- ![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/a9baaca7-74e5-4781-9b7d-078223ed6c14)
- 위 예시에서 중위 순회를 하면, `` 1 > 2 > 3 > 4 > 5 > 7 > 9 `` 와 같은 원소의 목록을 얻을 수 있다.
- 따라서 해당 트리 구조는 트리정렬 알고리즘으로도 사용되며,
- 이진 탐색트리를 제공하는 프로그래밍 api에서는 정렬을 이용한 기능을 제공하는 경우가 많다.
  > Java Collection API : TreeMap, TreeSet은 이진탐색트리 구조로 트리를 쌓는다.
  > 따라서 특정 값들이 정렬로 보관되어있고, 정렬 특징을 이용하는 메서드들이 존재한다.

## 이진탐색트리 검색
![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/5edccff1-7ece-4550-a560-821a461f1123)
``4``노드를 검색하는 과정
- 첫번째로 만나는 노드는 ``5``. 검색 노드가 더 작으므로, 왼쪽으로 이동
- 두번째로 만나는 노드는 ``3``. 검색 노드가 더 크므로, 오른쪽으로 이동
- 세번째로 만나는 노드는 ``4``. 검색 노드와 일치하므로, 해당 노드를 리턴
> 노드는 다양한 자료형으로 구성될 수 있고, 검색을 통해 리턴된 노드에서 제공하는 정보를 활용할 수 있다.

## 이진탐색트리 삽입
# 삽입 규칙
-  루트 노드가 비었다면, 루트 노드를 삽입 노드로 채운다.
-  루트 노드가 존재한다고 가정할 때, 삽입 노드의 값과 비교하여 삽입 노드의 값이 작으면 루트노드의 왼쪽, 크면 오른쪽으로 이동한다.
-  이동시, 노드가 비었다면 삽입 노드로 채운다.
-  만약 노드가 존재한다면, 2~3번 과정을 반복한다.
예시를 통해 보면, 이진탐색트리에 노드를 넣는 순서는 다음과 같다고 가정한다.
- ``5, 3, 1, 4, 7, 9, 2``
![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/74139e0b-1cf4-4a07-9738-b27cace52f63)
- 1. 루트가 비었으니 ``5``는 루트노드에 들어감
  2. ``3``은 루트(5)와 비교했을 때 더 작으니 왼쪽으로 이동하고, 노드가 비어있기에 해당 노드를 ``3``으로 채운다.
  3. ``1``은 루트보다 작으니 왼쪽으로 이동하고, ``3``보다 작으니 왼쪽으로 이동하고, 노드가 비어있기에 해당 노드를 ``1``로 채운다.
  4. ``4``는 루트보다 작으니 왼쪽으로 이동하고, ``3``보다 크니 오른쪽으로 이동하고, 노드가 비어있기에 노드를 ``4``로 채운다.
  5. ``7``은 루트보다 크니 오른쪽으로 이동하고, 노드가 비어있기에 해당 노드를 ``7``로 채운다.
  6. ``9``는 루트보다 크니 오른쪽으로 이동하고, ``7``보다 크니 오른쪽으로 이동하고, 노드가 비어있기에 노드를 ``4``로 채운다.
  7. ``2``는 루트보다 작으니 왼쪽으로, ``3``보다 작으니 왼쪽으로, ``1``보다 크니 오른쪽으로 이동하고, 노드가 비어있기에 노드를 ``2``로 채운다.

## 이진탐색트리 삭제
이진탐색트리의 검색/삽입 연산과 달리 삭제는 조금 복잡하다. 케이스를 나누어 고려해야한다.
- 삭제할 노드가 말단 노드인 경우
- 삭제할 노드의 자식 노드가 1개인 경우
- 삭제할 노드의 자식 노드가 2개인 경우

1. 삭제할 노드가 말단 노드인 경우
- 매우 간단
- 그냥 삭제할 노드만 삭제하면 된다.
![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/3b33695c-9fe2-4868-b6fe-933f178a0016)

2. 삭제할 노드의 자식 노드가 1개인 경우
- 자식 노드가 그대로 대체하면 된다.
![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/de836483-3662-4c39-a37a-1800587d3c20)
> 여기선 ``7``을 지우면, 자식인 ``9``와 ``9``의 자식들이 그대로 올라온다.

3. 삭제할 노드의 자식 노드가 2개인 경우
- 약간 복잡
- 삭제할 노드의 자리에 대신 채울 노드를 찾아야하는 과정이 필요
- 대신 채울 노드를 찾는 방법은 2가지가 있다.
  - 삭제할 노드의 ``왼쪽 서브트리``에서 ``최대값 노드``
  - 삭제할 노드의 ``오른쪽 서브트리``에서 ``최소값 노드``

  1) 왼쪽 서브트리의 최대값
  ![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/0ee9ec3f-2872-4518-b560-e0723dfff185)
  > 왼쪽 서브트리값 ``15``, ``14``, ``17``중에 제일 큰 값인 ``17``을 삭제한 노드의 자리로 옮긴다.
  
  2) 오른쪽 서브트리의 최소값
  ![image](https://github.com/CheeseYoung/Cheeseyoung.github.io/assets/132384527/3bf25e34-741d-4b23-a165-4459bf313127)
  > 오른쪽 서브트리값 ``25``, ``27`` 중에 제일 작은 값인 ``25``를 삭제한 노드의 자리로 옮긴다.




